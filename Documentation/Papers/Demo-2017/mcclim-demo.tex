\documentclass{sig-alternate-05-2015}
\usepackage[utf8]{inputenc}
\usepackage{color}

\def\inputfig#1{\input #1}
\def\inputtex#1{\input #1}
\def\inputal#1{\input #1}
\def\inputcode#1{\input #1}

\inputtex{logos.tex}
\inputtex{refmacros.tex}
\inputtex{other-macros.tex}

\begin{document}
\setcopyright{rightsretained}
\title{McCLIM Demonstration}
\numberofauthors{1}
\author{\alignauthor
Daniel Kochmański\\
\affaddr{TurtleWare – Daniel Kochmański}\\
\affaddr{Przemyśl, Poland}\\
\email{daniel@turtleware.eu}}

\toappear{Permission to make digital or hard copies of all or part of
  this work for personal or classroom use is granted without fee
  provided that copies are not made or distributed for profit or
  commercial advantage and that copies bear this notice and the full
  citation on the first page. Copyrights for components of this work
  owned by others than the author(s) must be honored. Abstracting with
  credit is permitted. To copy otherwise, or republish, to post on
  servers or to redistribute to lists, requires prior specific
  permission and/or a fee. Request permissions from
  Permissions@acm.org.

  ELS '17, April 3 -- 6 2017, Brussels, Belgium
  Copyright is held by the owner/author(s).
}

\maketitle

\begin{abstract}
  We describe what is a \emph{Common Lisp Interface
    Manager}\cite{CLIM2} implementation
  McCLIM\cite{Strandh:2002:ILC:McCLIM}, recent development progress
  and some concepts which are central to developing applications with
  \emph{CLIM} – panes, presentation types and commands. To illustrate
  their usage we analyse the source code of a demo application
  ``Clamber'' – book colelction managament tool, created as a tutorial
  for explaining \emph{CLIM} concepts.
\end{abstract}

\begin{CCSXML}
  <ccs2012> <concept>
  <concept_id>10011007.10011006.10011066.10011069</concept_id>
  <concept_desc>Software and its engineering~Integrated and visual
  development environments</concept_desc>
  <concept_significance>500</concept_significance> </concept>
  </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Integrated and visual
  development environments}

\printccsdesc

\keywords{\commonlisp{}, graphic user interfaces}

\section{Introduction}

The CLIM specification is large; it requires some initial work from the
programmer to start writing programs using CLIM. Needless to say,
implementation of such specification is a non-trivial undertaking.
Indeed, the development of McCLIM consumed many man-hours of bright
developers through the first decade of 21st century. In the second
decade, the pace of development slowed down a little only to get on
track again during the last few years, thanks to individuals like
Robert Strandh (the current project leader), Alessandro Serra and others.

The CLIM 2.0 specification was released in 1993. It is meant to be
portable across Common Lisp\cite{ansi:common:lisp} implementations and
operating systems by mapping itself to the target window system (like
X11\cite{X11}, GTK\cite{GTK} or Windows Forms\cite{WindowsForms})
through backends.

The key feature of the standard is providing convenient
object-oriented abstraction over the interface presented to the user
(without compromising the programmer's \emph{ability} to change low-level
details). The CLIM 2.0 specification implements the model-view-presenter
architectural pattern in a consistent way, both providing default behaviour of its elements and allowing to customize it.

McCLIM is a free open source implementation of CLIM II specification
with extensions proposed by Franz Inc. in \emph{CLIM 2 User Guide,
  version 2.2.2}. As of 2017, the Common Lisp ecosystem doesn't have a
free, native graphic user interface toolkit other than McCLIM (and the
recently opensourced CLIM2\cite{CLIM2}). Other solutions are based
on foreign libraries (LTK\cite{LTK}, CommonQt\cite{CommonQt} or
EQL5\cite{EQL5}) or are commercial (Common Graphics\cite{CG},
CAPI\cite{CAPI}). Another frequently used approach for creating
graphical applications with Common Lisp is creating web applications
with frameworks such as Ningle\cite{Ningle} or Caveman2\cite{Caveman2}.

\section{Recent development}

During the last year, we have replaced various functionalities, which were
implemented directly in McCLIM, with compatibility libraries.
The \emph{Bordeaux Threads}\cite{BT} library is currently
responsible for threading, \emph{OptiCL}\cite{OptiCL} for handling
raster image,s etc. We have also refreshed the McCLIM website to
provide up-to-date information. Some work has been done to assure its
portability across implementations. As of 2017-01-25, McCLIM is known to
work on the \emph{CCL}\cite{CCL}, \emph{ECL}\cite{ECL} and
\emph{SBCL}\cite{SBCL} Common Lisp implementations.

After that, we have started a crowdfunding campaign, which allowed us
to fund bounties and some constant development work (40 hours per
month). It was a huge success, which assured us that people are greatly
interested in seeing \emph{McCLIM} working. During that time, we have
gathered very valuable feedback, which helped us plan a
roadmap\cite{roadmap} for further development. We regularly present
iteration summaries to the community. We have noticed steady progress
in the development and growing interest in using McCLIM by Common Lisp
developers.

A lot of effort is put into the \emph{McCLIM} internals to assure its
quality and ease of use. Currently, one of the most discouraging aspects of
using CLIM is the software complexity of the framework combined with lack
of proper documentation. We improve on that by creating
learning\cite{guided} material for new users.

\section{Demonstration}

The key CLIM components are:

\begin{itemize}
\item Application Frames

  Application frame is a class abstracting one application entity. It
  is composed of the application's internal state, its panes, layouts
  and commands associated with it.

\item Panes, layouts and views

  Panes are more widely known as widgets. Layout is a special kind of
  pane, responsible for the application frame screen composition. Views
  may be used to customize the rendering, according to the particular
  needs (textual view, gadget view, list view, grid view, etc.).

\item Drawing primitives and formatted output

  For custom output, the programmer disposes of a rich set of drawing
  functions which may be used on a sheet. Also, output may be arranged
  in tables, graphs and lists which helps to lay things out on a sheet
  when writing custom widgets.

\item Presentation types

  These types define how Lisp data is displayed on the screen. They
  also allow for manipulating the underlying Lisp objects with a mouse
  pointer, supplying them to commands and requesting input from the user.

\item Commands

  Commands are functions provided by the application to achieve its
  design goals. Command arguments may be gathered by various means
  available for the user – through a gesture, by selecting a command in
  a menu or by simply typing them in the \emph{Listener}\cite{listener},
  which allows for a clear separation of application logic and its look.
\end{itemize}

\section{Conclusions and future work}

We have demonstrated that \emph{McCLIM} is an interesting piece of
software which allows creating customizable user
interfaces. Its onvenient abstraction enables the programmer to think in
high-level terms, which are well mapped to the underlying
functionality.

The recent spawn of interest is a proof that a free CLIM implementation is
something demanded. We plan to improve it to the point where it is
stable enough for production use. One of our primary goals is
providing good documentation and learning materials for newcomers,
since the CLIM 2.0 specification is vast (and not necessarily consistent).

\section{Acknowledgments}

We would like to thank all contributors, supporters and
programmers using \emph{McCLIM} for the whole valuable feedback, code
improvements, financial support and encouraging words.

I personally want to thank professor Robert Strandh for his constant
patience and mentorship, which made this work possible and
entertaining.

\bibliographystyle{abbrv}
\bibliography{mcclim-demo}
\end{document}
